<div class="row" style="margin-bottom: 1em">
	<div class="col-sm-12">
		<h1>Manage Feide Connect Client</h1>
	</div>
</div>


<div class="row">
	<div class="col-sm-2">
			
		<ul class="nav nav-pills nav-stacked tabselector" style="text-align:right">
			<li role="presentation" data-tabid="tabBasic" class=""><a href="#">Basic info</a></li>
			<li role="presentation" data-tabid="tabOAuth" class=""><a href="#">OAuth details</a></li>
			<li role="presentation" data-tabid="tabScopes" class=""><a href="#">Scopes</a></li>
			<li role="presentation" data-tabid="tabAPI" class=""><a href="#">3rd party APIs</a></li>
			<!-- <li role="presentation" data-tabid="tabStatistics" class=""><a href="#">Usage statistics</a></li> -->
			<li role="presentation" data-tabid="tabDelete" class=""><a href="#">Delete</a></li>
		</ul>

	</div>


	<div class="col-sm-10 tabcontainer">




		<div id="tabBasic" class="row">


			<div class="col-sm-9">


				<form class="" style="">

				<!-- 			
					<div class="form-group">
						<label for="exampleInputEmail1">Client Identifier</label>
						<input type="email" class="form-control" id="client_id" value="{id}" disabled="disabled">
					</div> 
				-->

					<div class="form-group">
						<label for="name">Name</label>
						<input style="font-size: 150%" type="text" class="form-control" id="name" placeholder="Name of client application" value="{name}">
					</div>

					<div class="form-group">
						<label for="descr">Description</label>
						<textarea class="form-control" id="descr" rows="3">{descr}</textarea>
					</div>

					<div class="form-group">
						<label for="">Redirect URI</label>
						<p>The OAuth Redirect URI is the URL where the user is send back to after authentication and authorization.</p>


						<div id="redirtemplate" style="display: none">
							<div class="input-group clearfix redircontainer" style="margin-top: 4px">
								<input type="text" class="form-control redirect_uri" placeholder="https://example.org/callback">
								<div class="input-group-btn">
									<button class="btn btn-default actRemoveRedirectURI"><i class="fa fa-times"></i></button>
								</div>
							</div>
						</div>
						<div id="rediroutercontainer">
							{#redirect_uri}
								<div class="input-group clearfix redircontainer" style="margin-top: 4px">
									<input type="text" class="form-control redirect_uri" placeholder="" value="{.}">
									<div class="input-group-btn">
										<button class="btn btn-default actRemoveRedirectURI"><i class="fa fa-times"></i></button>
									</div>
								</div>
							{:else}
								<div class="input-group clearfix redircontainer" style="margin-top: 4px">
									<input type="text" class="form-control redirect_uri" placeholder="https://example.org/callback">
									<div class="input-group-btn">
										<button class="btn btn-default actRemoveRedirectURI"><i class="fa fa-times"></i></button>
									</div>
								</div>
							{/redirect_uri}
						</div>


						<div class="clearfix"></div>
						<div class="pull-right" style="margin-top: 3px; margin-right: 4px">
							<button class="btn btn-default actAddRedirectURI"><i class="fa fa-plus"></i></button>
						</div>


					</div>

					<p><button class="btn btn-success actSaveChanges" class="">
						<i class="glyphicon glyphicon-ok"></i> Save changes</button></p>

				</form>

				<p style="margin: 0px">
					<span style=" color: #555">Registered {createdAgo}</span> 
						<span style="color: #999"><i class="glyphicon glyphicon-time"></i> {createdH}</span>
					<span style="margin-left: 2em;  color: #555">Updated {updatedAgo}</span> 
						<span style="color: #999"><i class="glyphicon glyphicon-time"></i> {updatedH}</span>
				</p>



			</div>

			<div class="col-sm-3 ">
				
				<div class="imagezone" style="min-height: 128px; min-width: 128px">
					<img class="itemlogo" src="{_config.apis.core}/clientadm/clients/{id}/logo" style="padding: 5px; border: 1px solid #ddd; border-radius: 4px; backgroud: #eee" />
				</div>

				<p>Drag a new square (1:1) PNG logo over the current one to replace it. <br /><span style="font-size: 90%">Minimum 128px</span></p>
			</div>

		</div>






		<div id="tabOAuth">
			<div class="row" style="">

				<div class="col-sm-6">
					<h3>OAuth Client credentials</h3>

					<dl>
						<dt>Client ID</dt>
						<dd><code>{id}</code></dd>

						<dt>Client Secret</dt>
						<dd><code>{client_secret}</code></dd>


						<dt>Redirect URI</dt>
						{#redirect_uri}
							<dd><code>{.}</code></dd>
						{/redirect_uri}

					</dl>
				</div>

				<div class="col-sm-6">

					<h3>OAuth Provider</h3>

					<dl>
						<dt>Authorization endpoint</dt>
						<dd><code>{_config.authorization}</code></dd>

						<dt>Token endpoint</dt>
						<dd><code>{_config.token}</code></dd>
					</dl>

				</div>

			<!--
				<div class="col-md-4">
					<h3>Usage Statistics</h3>

					<p><img src="img/plot.jpg" style="border-radius: 5px"></p>

					<p>{count} registered users. ( <a href="">see more statistics</a> )</p>

				</div>
			-->

			</div>




			<div style="margin-top: .2em" class="row">
				<div class="col-sm-12">

					<h3>Authorized Scopes</h3>

					<p><code>
					{#scopes}
						{.} 
					{/scopes}
					</code></p>

				</div>
			</div>

		</div>






		<div id="tabScopes"  style="" class="row">


			<div class="col-sm-6">

				<h3>Accepted scopes</h3>

				<div class="list-group">
					{#scopelist.accepted}
						<div class="list-group-item scopeEntry" data-scopeid="{scope}">
							<div class="pull-right"><code class="">{scope}</code></div>
							<h4 class="list-group-item-heading">{title}</h4>
							<p class="list-group-item-text">{descr}</p>

							<div class="">
									<button class="btn btn-xs btn-danger actScopeRemove">
										<i class="glyphicon glyphicon-remove"></i>
										Remove scope 
										</button>
							</div>
							<p class="clearfix"></p>
						</div>
					{:else}
						<p>No available scopes</p>
					{/scopelist.accepted}
					
				</div>


				<h3 style="margin-top: 1.5em">Requested scopes</h3>

				<div class="list-group">
					{#scopelist.requested}
						<div class="list-group-item scopeEntry" data-scopeid="{scope}">
							<div class="pull-right"><code class="">{scope}</code></div>
							<h4 class="list-group-item-heading">{title}</h4>
							<p class="list-group-item-text">{descr}</p>

							<div class="" style="margin-top: .3em; margin-bottom: 0px">
									<button class="btn btn-xs btn-default actScopeRemove">
										<i class="glyphicon glyphicon-remove"></i>
										Remove scope 
										</button>
							</div>
							<p style=" padding: 0px; margin: 0px" class="clearfix"></p>

						</div>
					{:else}
						<p>No requested scopes</p>
					{/scopelist.requested}
				</div>

			</div>



			<div class="col-sm-6">

				<h3>Available scopes</h3>

				<div class="list-group">
					{#scopelist.available}
						<div class="list-group-item scopeEntry" data-scopeid="{scope}">
							<div class="pull-right"><code class="">{scope}</code></div>
							<h4 class="list-group-item-heading">{title}</h4>
							<p class="list-group-item-text">{descr}</p>


							<p style="margin-top: .3em; margin-bottom: 0px">
								{?policy.auto}
									<button class="btn btn-sm btn-primary actScopeAdd">
										<i class="glyphicon glyphicon-chevron-left"></i>
										Add scope</button>
								{/policy.auto}
								{^policy.auto}
									<button class="btn btn-sm btn-warning actScopeAdd">
										<i class="glyphicon glyphicon-chevron-left"></i>
										Request scope</button>
								{/policy.auto}
							</p>
							<p style=" padding: 0px; margin: 0px" class="clearfix"></p>

						</div>
					{:else}
						<p>No available scopes</p>
					{/scopelist.available}
				</div>

			</div>



		</div>


		<div id="tabAPI"  style="" class="row">





			<div class="col-sm-6">

				<h3>Accepted APIs</h3>

				<div class="list-group">




					{#authorizedAPIs}
						<div class="list-group-item apiEntry" data-apigkid="{id}">

							<div class="media">
								
								<div class="media-left">
									<img style="max-width: 48px; max-height: 48px" class="media-object" src="{_config.apis.core}/apigkadm/apigks/{id}/logo" alt="Logo of 3rd party API">
								</div>
								<div class="media-body">

									<!-- <div class="pull-right"><code class="">gk_{id}</code></div> -->
									<h4 class="list-group-item-heading">{name}</h4>
									<p class="list-group-item-text">{descr}</p>

								{#owner}
									<div class="pull-right" style="color: #999; clear: right">
										
										<p>
										 <i class="fa fa-user"></i> &nbsp;
											 {name}
											<img class="" style="margin-top: -6px; margin-left: 10px; margin-bottom: 5px; margin-right: 5px max-height: 32px; max-width: 32px; border: 0px solid #b6b6b6; border-radius: 16px; box-shadow: 1px 1px 2px #aaa;" 
												src="{_config.apis.auth}/user/media/{id}" 
												alt="Profile photo" />

											

										</p>
									</div>
								{/owner}


								</div>

							</div>


								{#scopedef}

									<table style="font-size: 85%" class="table table-striped">
										<thead>
											<tr>
												
												<td>Scope name</td>
												<td>Scope</td>
												<td>Policy</td>
												<td>Status</td>
												<td>Update</td>
											</tr>

										</thead>
										<tbody>
											<tr>
												<td>{title}</td>
												<td style="font-size: 90%"><code>gk_{id}</code></td>

												<td>
													{#policy.auto}
														<span class="label label-success">
															<i class="fa fa-check"></i>&nbsp;
															Accept</span>
													{:else}
														<span class="label label-danger">
															<i class="fa fa-check-square-o"></i>&nbsp;
															Moderate</span>
													{/policy.auto}
												</td>


												<td>

													{#sd.authz}
														<span class="label label-success">
															<i class="fa fa-check"></i>&nbsp;
															Accepted</span>
													{:else}

														{#sd.req}
															<span class="label label-danger">
																<i class="fa fa-check-square-o"></i>&nbsp;
																Requested</span>
														{/sd.req}

													{/sd.authz}

												</td>


												<td>

													<input class="authscope" data-scopemoderate="gk_{id}" type="checkbox" checked="checked" /> 



												</td>


											</tr>

											{#subscopes}

												<tr>

													<td>{title}</td>
													<td style="font-size: 90%"><code>gk_{id}_{scope}</code></td>

													<td>
														{#policy.auto}
															<span class="label label-success">
																<i class="fa fa-check"></i>&nbsp;
																Accept</span>
														{:else}
															<span class="label label-danger">
																<i class="fa fa-check-square-o"></i>&nbsp;
																Moderate</span>
														{/policy.auto}
													</td>
													<td>

														{?status.accepted}
															<span class="label label-success">
																<i class="fa fa-check"></i>&nbsp;
																Accepted</span>
														{/status.accepted}

														{?status.requested}
															<span class="label label-danger">
																<i class="fa fa-check-square-o"></i>&nbsp;
																Requested</span>
														{/status.requested}


													</td>
													<td>

														{?status.checked}
															<input class="authscope" type="checkbox" data-scopemoderate="gk_{id}_{scope}" checked="checked" /> 
														{:else}

															<input class="authscope" type="checkbox" data-scopemoderate="gk_{id}_{scope}" /> 
														{/status.checked}


													</td>
												</tr>

											{:else}
												<tr><td colspan="5">No subscopes</td></tr>
											{/subscopes}


										</thead>

									</table>

								{/scopedef}



								<p class="">

									<button class="btn btn-sm btn-primary actAPIScopeUpdate pull-right">
										<!-- <i class="glyphicon glyphicon-chevron-up"></i>&nbsp; -->
										Save changes</button>

								</p>


								<p style=" padding: 0px; margin: 0px" class="clearfix"></p>



						</div>
					{:else}
						<p>No third party APIs authorized</p>
					{/authorizedAPIs}



				</div>


				<h3 style="margin-top: 1.5em">Requested API access</h3>






					{#requestedAPIs}
						<div class="list-group-item apiEntry" data-apigkid="{id}">

							<div class="media">
								
								<div class="media-left">
									<img style="max-width: 48px; max-height: 48px" class="media-object" src="{_config.apis.core}/apigkadm/apigks/{id}/logo" alt="Logo of 3rd party API">
								</div>
								<div class="media-body">

									<!-- <div class="pull-right"><code class="">gk_{id}</code></div> -->
									<h4 class="list-group-item-heading">{name}</h4>
									<p class="list-group-item-text">{descr}</p>

								{#owner}
									<div class="pull-right" style="color: #999; clear: right">
										
										<p>
										 <i class="fa fa-user"></i> &nbsp;
											 {name}
											<img class="" style="margin-top: -6px; margin-left: 10px; margin-bottom: 5px; margin-right: 5px max-height: 32px; max-width: 32px; border: 0px solid #b6b6b6; border-radius: 16px; box-shadow: 1px 1px 2px #aaa;" 
												src="{_config.apis.auth}/user/media/{id}" 
												alt="Profile photo" />

										</p>
									</div>
								{/owner}


								</div>

							</div>


								{#scopedef}

									<table style="font-size: 85%" class="table table-striped">
										<thead>
											<tr>
												
												<td>Scope name</td>
												<td>Scope</td>
												<td>Policy</td>
												<td>Status</td>
												<td>Update</td>
											</tr>

										</thead>
										<tbody>
											<tr>
												<td>{title}</td>
												<td style="font-size: 90%"><code>gk_{id}</code></td>

												<td>
													{#policy.auto}
														<span class="label label-success">
															<i class="fa fa-check"></i>&nbsp;
															Accept</span>
													{:else}
														<span class="label label-danger">
															<i class="fa fa-check-square-o"></i>&nbsp;
															Moderate</span>
													{/policy.auto}
												</td>


												<td>

													{#sd.authz}
														<span class="label label-success">
															<i class="fa fa-check"></i>&nbsp;
															Accepted</span>
													{:else}

														{#sd.req}
															<span class="label label-danger">
																<i class="fa fa-check-square-o"></i>&nbsp;
																Requested</span>
														{/sd.req}

													{/sd.authz}

												</td>


												<td>

													<input class="authscope" data-scopemoderate="gk_{id}" type="checkbox" checked="checked" /> 

												</td>


											</tr>

											{#subscopes}

												<tr>

													<td>{title}</td>
													<td style="font-size: 90%"><code>gk_{id}_{scope}</code></td>

													<td>

														{#policy.auto}
															<span class="label label-success">
																<i class="fa fa-check"></i>&nbsp;
																Accept</span>
														{:else}
															<span class="label label-danger">
																<i class="fa fa-check-square-o"></i>&nbsp;
																Moderate</span>
														{/policy.auto}

													</td>
													<td>

														{?status.accepted}
															<span class="label label-success">
																<i class="fa fa-check"></i>&nbsp;
																Accepted</span>
														{/status.accepted}

														{?status.requested}
															<span class="label label-danger">
																<i class="fa fa-check-square-o"></i>&nbsp;
																Requested</span>
														{/status.requested}

													</td>
													<td>

														{?status.checked}
															<input class="authscope" type="checkbox" data-scopemoderate="gk_{id}_{scope}" checked="checked" /> 
														{:else}

															<input class="authscope" type="checkbox" data-scopemoderate="gk_{id}_{scope}" /> 
														{/status.checked}


													</td>
												</tr>

											{:else}
												<tr><td colspan="5">No subscopes</td></tr>
											{/subscopes}


										</thead>

									</table>

								{/scopedef}



								<p class="">

									<button class="btn btn-sm btn-primary actAPIScopeUpdate pull-right">
										<!-- <i class="glyphicon glyphicon-chevron-up"></i>&nbsp; -->
										Save changes</button>

								</p>


								<p style=" padding: 0px; margin: 0px" class="clearfix"></p>



						</div>
					{:else}
						<p>No third party APIs requested</p>
					{/requestedAPIs}











			</div>



			<div class="col-sm-6">



				<h3>Third party APIs</h3>

				<div class="list-group">
					{#apis}
						<div class="list-group-item apiEntry media" data-apigkid="{id}">

							<div class="media-left">
								<img style="max-width: 48px; max-height: 48px" class="media-object" src="{_config.apis.core}/apigkadm/apigks/{id}/logo" alt="Logo of 3rd party API">
							</div>
							<div class="media-body">

								<!-- <div class="pull-right"><code class="">gk_{id}</code></div> -->
								<h4 class="list-group-item-heading">{name}</h4>
								<p class="list-group-item-text">{descr}</p>


								{#scopedef}

									<table style="font-size: 85%" class="table table-striped">
										<tbody>
											<tr>
												<td><input type="checkbox" checked="checked" disabled="disabled" /></td>
												<td>{title}</td>
												<td style="font-size: 90%"><code>gk_{id}</code></td>

												<td>
													{#policy.auto}
														<span class="label label-success">
															<i class="fa fa-check"></i>&nbsp;
															Accept</span>
													{:else}
														<span class="label label-danger">
															<i class="fa fa-check-square-o"></i>&nbsp;
															Moderate</span>
													{/policy.auto}
												</td>
											</tr>

											{#subscopes}

												<tr>
													<td><input type="checkbox" class="subScopeSelection" name="gk_{id}_{scope}" /></td>
													<td>{title}</td>
													<td style="font-size: 90%"><code>gk_{id}_{scope}</code></td>

													<td>
														{#policy.auto}
															<span class="label label-success">
																<i class="fa fa-check"></i>&nbsp;
																Accept</span>
														{:else}
															<span class="label label-danger">
																<i class="fa fa-check-square-o"></i>&nbsp;
																Moderate</span>
														{/policy.auto}
													</td>
												</tr>

											{:else}
												<tr><td colspan="4">No subscopes</td></tr>
											{/subscopes}


										</thead>

									</table>

								{/scopedef}



								<p style="margin-top: .3em; margin-bottom: 0px">
									{?scopedef.policy.auto}
										<button class="btn btn-sm btn-primary actAPIadd">
											<i class="glyphicon glyphicon-chevron-left"></i>
											Add access</button>
									{/scopedef.policy.auto}
									{^scopedef.policy.auto}
										<button class="btn btn-sm btn-warning actAPIadd">
											<i class="glyphicon glyphicon-chevron-left"></i>
											Request access</button>
									{/scopedef.policy.auto}
								</p>

								{#owner}
									<div class="pull-right" style="color: #999">
										
										<p>
										 <i class="fa fa-user"></i> &nbsp;
											 {name}
											<img class="" style="margin-top: -6px; margin-left: 10px; margin-bottom: 5px; margin-right: 5px max-height: 32px; max-width: 32px; border: 0px solid #b6b6b6; border-radius: 16px; box-shadow: 1px 1px 2px #aaa;" 
												src="{_config.apis.auth}/user/media/{id}" 
												alt="Profile photo" />

										</p>
									</div>
								{/owner}

								<p style=" padding: 0px; margin: 0px" class="clearfix"></p>


							</div>



						</div>
					{:else}
						<p>No third party APIs available</p>
					{/apis}
				</div>

			</div>

		</div>






		<div id="tabStatistics"  style="" class="row">


			<div class="col-sm-12">

				<h3>Usage statistics</h3>

				<p></p>

			</div>
		</div>


		<div id="tabDelete"  style="" class="row">

			<div class="col-sm-12">

				<p>Are you really sure that you want to delete this client?</p>
				<p>You will not be able to recreate a client with the same identifier, and all issued tokens and authorizations will be reset.</p>

				<div><button class="btn btn-lg btn-danger actDelete">
					<i class="glyphicon glyphicon-warning-sign"></i> 
					Delete this client, I know what I am doing</button></div>


			</div>

		</div>




		</div>



	</div>


</div>


<!--




<div class="row">

	<div class="col-md-12">

		<h3>Generic Authorization Scopes</h3>
		<table class="table table-striped">

			<thead>
				<tr>
					<th>Scope</th>
					<th>Descr</th>
					<th>Status</th>
					<th>Action</th>
				</tr>
			</thead>

			<tbody>

			{! 
					<tr class="scope" data-scope="{@key}">
						<td><code>{key}</code></td>
						<td>{name}. {descr}</td>
						<td>
							{#granted}
								<span class="label label-success">Granted</span>
							{/granted}
							{#requested}
								<span class="label label-danger">Requested</span>
							{/requested}
						</td>
						<td>
							{#granted}
								<button class="btn btn-mini actRemoveAccessGeneric">Remove</button>
							{{/granted}}
							{#else2}
								{#requested}
									<button class="btn btn-mini actRemoveAccessGeneric">Remove</button>
								{/requested}
								{#else}
									<button class="btn btn-mini actRequestAccessGeneric">Request</button>
								{/else}
								
							{/else2}
						</td>
					</tr>
				!}

			</tbody>
		</table>

	</div>


</div>



-->



<!--

<div class="row">

	<div class="col-md-12">



		<div class="panel panel-default authorizationlistcontainer" id="authorizedAPIContainer">

			<div class="panel-heading">

				<h3>Authorized APIs</h3>

			</div>


			<div class="panel-body">

				<p style="margin: .8em .6em">These APIs are already authorized for your client, or pending moderation.</p>
			

				<div class="panel-body clientauthorizations" id="authorizedAPIlisting">
					<div class="items"></div>
				</div>
				<div style="margin: 0px; padding: 0px; text-align: center" class="listpager"></div>

			</div>

		</div>






		<div class="panel panel-default authorizationlistcontainer" id="availableAPIContainer">
			<div class="panel-heading">

				<form class=" pull-right" role="search">
			      <div class="form-group">
			        <input id="apiSearch" type="text" class="form-control" placeholder="Search">
			      </div>
			      
			    </form>

				<h3>Available APIs</h3>

			</div>
			<div class="panel-body">

				<p style="margin: .8em .6em">Navigate through available APIs, and request permissions.</p>
			
				<div class="panel-body clientauthorizations" id="publicAPIlisting">
					<div class="items"></div>
				</div>
				<div style="margin: 0px; padding: 0px; text-align: center" class="listpager"></div>

			</div>
		</div>


	</div>

</div>


-->
